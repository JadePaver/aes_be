generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  id           Int      @id @default(autoincrement())
  user_code    String?  @db.VarChar(55)
  role_id      Int?
  fName        String   @db.VarChar(55)
  lName        String   @db.VarChar(55)
  mName        String   @db.VarChar(55)
  ext_name     String?  @db.VarChar(55)
  birthDate    DateTime @db.Date
  sex_id       Int?
  contact      String   @db.VarChar(55)
  email        String   @db.VarChar(55)
  username     String   @unique @db.VarChar(55)
  password     String   @db.VarChar(255)
  isRemove     Int      @default(0) @db.TinyInt
  dateModified DateTime @default(now()) @db.DateTime(0)
  dateCreated  DateTime @default(now()) @db.DateTime(0)
  
  profile_image profile_image?
  role          roles?        @relation(fields: [role_id], references: [id])
  sex            sex_tbl?      @relation(fields: [sex_id], references: [id])
}

model roles {
  id   Int    @id @default(autoincrement())
  name String @db.VarChar(55)
  code String @db.VarChar(55)
  users users[]
}

model profile_image {
  id      Int    @id @default(autoincrement())
  user_id Int?   @unique
  users   users?  @relation(fields: [user_id], references: [id])
  label   String @db.VarChar(255)
  file    String @db.VarChar(255)
}

model sex_tbl {
  id    Int    @id @default(autoincrement())
  label String @db.VarChar(155)
  users users[]
}

model archive_codes {
  id      Int    @id @default(autoincrement())
  code    String @unique @db.VarChar(155)
  user_id Int?   @unique
}
